/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * v.0.2.0
 * @license MIT */

!function(e,n){"function"==typeof define&&define.amd?define(n):"object"==typeof exports?module.exports=n():e.NProgress=n()}(this,function(){function s(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName}function t(e,n,t){return e<n?n:t<e?t:e}function l(e){return 100*(-1+e)}function i(e,n){return 0<=("string"==typeof e?e:o(e)).indexOf(" "+n+" ")}function a(e,n){var t=o(e),r=t+n;i(t,n)||(e.className=r.substring(1))}function n(e,n){var t,r=o(e);i(e,n)&&(t=r.replace(" "+n+" "," "),e.className=t.substring(1,t.length-1))}function o(e){return(" "+(e&&e.className||"")+" ").replace(/\s+/gi," ")}function u(e){e&&e.parentNode&&e.parentNode.removeChild(e)}var r,c,f={version:"0.2.0"},d=f.settings={minimum:.08,easing:"linear",positionUsing:"",speed:200,trickle:!0,trickleSpeed:200,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};f.configure=function(e){var n,t;for(n in e)void 0!==(t=e[n])&&e.hasOwnProperty(n)&&(d[n]=t);return this},f.status=null,f.set=function(o){var e=f.isStarted();o=t(o,d.minimum,1),f.status=1===o?null:o;var s=f.render(!e),a=s.querySelector(d.barSelector),u=d.speed,c=d.easing;return s.offsetWidth,p(function(e){var n,t,r,i;""===d.positionUsing&&(d.positionUsing=f.getPositioningCSS()),m(a,(n=o,t=u,r=c,(i="translate3d"===d.positionUsing?{transform:"translate3d("+l(n)+"%,0,0)"}:"translate"===d.positionUsing?{transform:"translate("+l(n)+"%,0)"}:{"margin-left":l(n)+"%"}).transition="all "+t+"ms "+r,i)),1===o?(m(s,{transition:"none",opacity:1}),s.offsetWidth,setTimeout(function(){m(s,{transition:"all "+u+"ms linear",opacity:0}),setTimeout(function(){f.remove(),e()},u)},u)):setTimeout(e,u)}),this},f.isStarted=function(){return"number"==typeof f.status},f.start=function(){f.status||f.set(0);var e=function(){setTimeout(function(){f.status&&(f.trickle(),e())},d.trickleSpeed)};return d.trickle&&e(),this},f.done=function(e){return e||f.status?f.inc(.3+.5*Math.random()).set(1):this},f.inc=function(e){var n=f.status;return n?1<n?void 0:("number"!=typeof e&&(e=0<=n&&n<.2?.1:.2<=n&&n<.5?.04:.5<=n&&n<.8?.02:.8<=n&&n<.99?.005:0),n=t(n+e,0,.994),f.set(n)):f.start()},f.trickle=function(){return f.inc()},c=r=0,f.promise=function(e){return e&&"resolved"!==e.state()&&(0===c&&f.start(),r++,c++,e.always(function(){0==--c?(r=0,f.done()):f.set((r-c)/r)})),this},f.render=function(e){if(f.isRendered())return document.getElementById("nprogress");a(document.documentElement,"nprogress-busy");var n=document.createElement("div");n.id="nprogress",n.innerHTML=d.template;var t,r=n.querySelector(d.barSelector),i=e?"-100":l(f.status||0),o=s(d.parent)?d.parent:document.querySelector(d.parent);return m(r,{transition:"all 0 linear",transform:"translate3d("+i+"%,0,0)"}),d.showSpinner||(t=n.querySelector(d.spinnerSelector))&&u(t),o!=document.body&&a(o,"nprogress-custom-parent"),o.appendChild(n),n},f.remove=function(){n(document.documentElement,"nprogress-busy"),n(s(d.parent)?d.parent:document.querySelector(d.parent),"nprogress-custom-parent");var e=document.getElementById("nprogress");e&&u(e)},f.isRendered=function(){return!!document.getElementById("nprogress")},f.getPositioningCSS=function(){var e=document.body.style,n="WebkitTransform"in e?"Webkit":"MozTransform"in e?"Moz":"msTransform"in e?"ms":"OTransform"in e?"O":"";return n+"Perspective"in e?"translate3d":n+"Transform"in e?"translate":"margin"};var p=function(){function n(){var e=t.shift();e&&e(n)}var t=[];return function(e){t.push(e),1==t.length&&n()}}(),m=function(){function r(e){return e=e.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(e,n){return n.toUpperCase()}),n[e]||(n[e]=function(e){var n=document.body.style;if(e in n)return e;for(var t,r=s.length,i=e.charAt(0).toUpperCase()+e.slice(1);r--;)if((t=s[r]+i)in n)return t;return e}(e))}function o(e,n,t){n=r(n),e.style[n]=t}var s=["Webkit","O","Moz","ms"],n={};return function(e,n){var t,r,i=arguments;if(2==i.length)for(t in n)void 0!==(r=n[t])&&n.hasOwnProperty(t)&&o(e,t,r);else o(e,i[1],i[2])}}();return f});
